import{_ as k}from"./Entry.vue.d2e0c223.js";import{u as D}from"./entry.b0da6ac6.js";import{u as B,a as _}from"./userData.2f85955e.js";import{a as A}from"./axios.82afda87.js";import{c as T}from"./currency.es.57f74176.js";import{j as $,a as p,Q as C,x as l,y as h,B as s,H as v,u as r,L as E,U as I,J as g,D as S}from"./swiper-vue.487844c5.js";import"./showAlert.1825e18a.js";import"./moment.fbc5633a.js";const j={class:"card card-custom border-0 min-h-500px h-md-100 mb-5 mb-lg-10"},L={class:"card-body ps-xl-15"},N=s("h1",{class:"text-center h1 pt-4 fw-bold mb-8"},"Transactions",-1),R={class:"d-flex flex-row justify-content-between mb-5"},V=g('<div class="card-title mb-2"><div class="widget-title fw-bold fs-4 d-flex align-items-center"><span>Received</span><i class="ki-duotone ki-double-left fs-1 text-success ms-2"><i class="path1"></i><i class="path2"></i></i></div></div>',1),q={class:"d-flex align-items-center mb-8"},z=s("span",{class:"fs-3 fw-semibold text-gray-400 me-1 align-self-start"},"$",-1),F={class:"page-title fs-2 fw-bold me-2 lh-1 ls-n2"},H=g('<div class="card-title mb-2"><div class="widget-title fw-bold fs-4 d-flex align-items-center"><i class="ki-duotone ki-double-right fs-1 text-danger me-2"><i class="path1"></i><i class="path2"></i></i><span>Sent</span></div></div>',1),J={class:"d-flex align-items-center mb-8"},M=s("span",{class:"fs-3 fw-semibold text-gray-400 me-1 align-self-start"},"$",-1),P={class:"page-title fs-2 fw-bold me-2 lh-1 ls-n2"},Q={class:"d-nonie"},ts=$({__name:"transactions",setup(U){var f;const b=D(),n=B().transactions,d=(f=_().userData.value)==null?void 0:f.userId,i=p(0),c=p(0),m=()=>{i.value=0,c.value=0,n.value.forEach(t=>{t.receiverId===d?i.value+=t.amount:c.value+=t.amount})};m();const x=()=>{var a;const t={method:"get",url:`${b.public.BE_API}/transactions/${d}`,timeout:15e3,headers:{Authorization:"Bearer "+((a=_().userData.value)==null?void 0:a.token)}};A.request(t).then(e=>{const o=e.data.sort((w,y)=>new Date(y.createdAt).getTime()-new Date(w.createdAt).getTime());n.value=o,m(),console.log(o)}).catch(e=>{console.log(e)})},u=t=>(t=t||0,T(t,{symbol:""}).format());return C(()=>{x()}),(t,a)=>{const e=k;return l(),h("div",j,[s("div",L,[N,s("div",R,[s("div",null,[V,s("div",q,[z,s("span",F,v(u(r(i))),1)])]),s("div",null,[H,s("div",J,[M,s("span",P,v(u(r(c))),1)])])]),s("div",Q,[(l(!0),h(E,null,I(r(n),o=>(l(),S(e,{showDetails:!0,transaction:o},null,8,["transaction"]))),256))])])])}}});export{ts as default};
