import{u as v,a as w}from"./entry.b0da6ac6.js";import{u as g}from"./index.4d0f0352.js";import{j as y,a as m,Q as k,x as d,y as u,B as t,u as e,P as A,N as T,O as B,e as I,H as c,R as a,V as j}from"./swiper-vue.487844c5.js";import{e as D}from"./showAlert.1825e18a.js";import{a as P}from"./userData.2f85955e.js";/* empty css                */import{a as R}from"./axios.82afda87.js";import{c as $}from"./currency.es.57f74176.js";import{h as C}from"./moment.fbc5633a.js";const S={class:"kd-flex flex-column flex-column-fluid"},E={id:"kt_app_content",class:"app-content flex-column-fluid"},M={id:"kt_app_content_container",class:"app-container container-fluid d-flex flex-column align-items-center justify-content-center min-h-500px pt-10 pt-md-15 pt-lg-5"},N={key:0},V=t("h1",{class:"mb-8"},"Track Transaction Progress",-1),q={class:"mb-5"},z=t("button",{type:"submit",class:"btn btn-primary w-100"}," Submit ",-1),G={key:1,class:"spinner-border spinner-border-lg"},H={key:1,class:"d-flex flex-column align-items-center justify-content-center"},O={class:"fs-2"},Q={class:"fs-3x fw-bold mb-5"},U={class:"d-flex justify-content-between mb-5"},F={class:"d-flex flex-column justify-content-center align-items-center"},J=t("div",{class:"text-center w-100"},[t("span",{class:"text-center fw-bold fs-4"},"Processing")],-1),K={class:"d-flex flex-column justify-content-center align-items-center"},L=t("div",{class:"text-center w-100"},[t("span",{class:"text-center fw-bold fs-4"},"Sent To Bank")],-1),W={class:"d-flex flex-column justify-content-center align-items-center"},X=t("div",{class:"text-center w-100"},[t("span",{class:"text-center fw-bold fs-4"}," Completed ")],-1),Y={class:"card bg-gray-100 mb-4"},Z={class:"card-body pb-4 fw-bold"},tt={class:"card w-100 w-lg-500px"},et={class:"card-body pb-4 fw-bold"},st={class:"table table-borderless"},nt=t("td",{class:"fw-bold text-muted"}," Recipient Name ",-1),at={class:"fw-bold text-end"},it=t("td",{class:"fw-bold text-muted"},"Bank",-1),ot={class:"fw-bold text-end"},ct=t("td",{class:"fw-bold text-muted"}," Account ID ",-1),lt={class:"fw-bold text-end"},rt=t("td",{class:"fw-bold text-muted"}," Transaction ID ",-1),dt={class:"fw-bold text-end"},ut={colspan:"2",class:"text-center"},mt="Transaction",kt=y({__name:"transaction",setup(_t){const f=v().public;g({title:`${mt} - ${f.APP}`});const p=w(),l=m();p.query.id&&(l.value=p.query.id);const b=m(!1),_=m(!1),s=m(),x=o=>$(o,{symbol:""}).format(),h=()=>{var n;if(!l.value)return D("Invalid transaction ID");_.value=!0;const o={method:"GET",url:`${f.BE_API}/transactions/find/${l.value}`,timeout:15e3,headers:{Authorization:"Bearer "+((n=P().userData.value)==null?void 0:n.token)}};R.request(o).then(r=>{s.value=r.data,b.value=!0}).catch(r=>{console.log(r)}).finally(()=>{_.value=!1})},i=(o,n)=>o==="completed"?!0:o==="awaiting"&&(n==="processing"||n==="awaiting");return k(()=>{l.value&&h()}),(o,n)=>(d(),u("div",S,[t("div",E,[t("div",M,[e(b)?e(s)?(d(),u("div",H,[t("div",O," To "+c(e(s).beneficiary.name),1),t("div",Q," $"+c(x(e(s).amount)),1),t("div",U,[t("div",F,[t("div",{class:a([e(s).status==="processing"?"animate__animated animate__infinite animate__delay-2s animate__pulse":"","mb-3"])},[t("button",{class:a([i(e(s).status,"processing")?"btn-success btn-active-success rounded-circle":"btn-light-primary btn-active-light-primary","btn btn-icon w-40px h-40px"])},[t("i",{class:a([i(e(s).status,"processing")?"ki-solid ki-check":"ki-solid ki-loading","fs-2x fw-bold"])},null,2)],2)],2),J]),t("div",{class:a([i(e(s).status,"awaiting")?"border-success":"border-primary","border-top border-2 w-20px w-md-50px w-lg-100px h-0px mt-5"])},null,2),t("div",K,[t("div",{class:a([e(s).status==="awaiting"?"animate__animated animate__infinite animate__delay-2s animate__pulse":"","mb-3"])},[t("button",{class:a([i(e(s).status,"awaiting")?"btn-success btn-active-success rounded-circle":"btn-light-primary btn-active-light-primary","btn btn-icon w-40px h-40px"])},[t("i",{class:a([i(e(s).status,"awaiting")?"ki-solid ki-check":"ki-solid ki-loading","fs-2x fw-bold"])},null,2)],2)],2),L]),t("div",{class:a([i(e(s).status,"completed")?"border-success":"border-primary","border-top border-2 w-20px w-md-50px w-lg-100px h-0px mt-5"])},null,2),t("div",W,[t("div",{class:a([e(s).status==="completed"?"animate__animated animate__infinite animate__delay-2s animate__pulse":"","mb-3"])},[t("button",{class:a([i(e(s).status,"completed")?"btn-success btn-active-success rounded-circle":"btn-light-primary btn-active-light-primary","btn btn-icon w-40px h-40px"])},[t("i",{class:a([i(e(s).status,"completed")?"ki-solid ki-check":"ki-solid ki-loading","fs-2x fw-bold"])},null,2)],2)],2),X])]),t("div",Y,[t("div",Z,[t("p",null,c(e(s).notes),1)])]),t("div",tt,[t("div",et,[t("table",st,[t("tbody",null,[t("tr",null,[nt,t("td",at,c(e(s).beneficiary.name),1)]),t("tr",null,[it,t("td",ot,c(e(s).beneficiary.bank),1)]),t("tr",null,[ct,t("td",lt,c(e(s).beneficiary.destinationAccount),1)]),t("tr",null,[rt,t("td",dt,c(e(s).transactionId),1)]),t("tr",null,[t("td",ut,c(e(C)(e(s).createdAt).format("lll")),1)])])])])])])):j("",!0):(d(),u("div",N,[V,e(_)?(d(),u("span",G)):(d(),u("form",{key:0,onSubmit:n[1]||(n[1]=A(r=>h(),["prevent"]))},[t("div",q,[T(t("input",{class:"form-control form-control-lg",type:"text",placeholder:"Enter transaction ID","onUpdate:modelValue":n[0]||(n[0]=r=>I(l)?l.value=r:null)},null,512),[[B,e(l)]])]),z],32))]))])])]))}});export{kt as default};
