import{u as w}from"./CQQ8cjCY.js";import{d as g,c as u,o as a,l as n,y as e,u as o,F as A,Q as B,P as C,N as _,O as v,R as T,G as h,L as V,E as b}from"./C1v_YKik.js";import{e as p,s as S}from"./BsrlggJy.js";import{u as q}from"./92L2RCN-.js";import{u as D}from"./CGGBS1J1.js";import{a as E}from"./CgRmDqS1.js";import{c as N}from"./9OAR_aOO.js";import"./Cpj98o6Y.js";import"./BR2hkClM.js";const F={class:"card"},M=e("div",{class:"card-header"},[e("div",{class:"card-title m-0"},[e("h3",{class:"fw-bold m-0"},"Setup Available Tiers")])],-1),U={class:"card-body"},$={key:0,class:"col-12 border d-flex align-items-center justify-content-center rounded h-100px"},j=e("span",{class:"fs-2 fw-bold text-muted"}," No Tiers Found ",-1),P=[j],z={key:1,class:"row row-cols-1 row-cols-md-2 mb-8"},O={class:"col"},R={class:"card-header py-0 m-0 position-relative"},G={class:"d-flex align-items-center m-0"},I=e("i",{class:"ki-solid ki-medal-star text-info fs-3x me-2"},null,-1),Q={class:"h3 p-0 m-0"},H={class:"position-absolute top-0 end-0 m-3"},J=["onClick"],K=e("i",{class:"ki-solid ki-pencil"},null,-1),W=[K],X={class:"card-body m-0"},Y={class:"mb-4 d-flex justify-content-between"},Z=e("div",{class:"text-muted"}," Daily Transaction Limit ",-1),ee={class:"fw-bold ms-auto text-end"},te={class:"d-flex justify-content-between"},se=e("div",{class:"text-muted"}," Maximum Account Balance ",-1),oe={class:"fw-bold ms-auto text-end"},ie={class:"card-footer"},le=e("div",{class:"card-title mb-8"},[e("h3",{class:"fw-bold m-0"},"Add New Tier")],-1),ae={class:"mb-5"},ne=e("label",{class:"form-label"},"Title",-1),de={class:"mb-5"},ce=e("label",{class:"form-label"},[h("Tier Level ( "),e("small",{class:"fs-8 text-warning"},"this should be in line 1,2,3... where 1 is the smallest"),h(" )")],-1),re={class:"mb-5"},me=e("label",{class:"form-label"},"Daily limit",-1),ue={class:"mb-5"},_e=e("label",{class:"form-label"},"Max balance limit",-1),ve={class:"mb-3i d-flex"},be=["disabled"],fe={key:0},he={key:1,class:"spinner-border spinner-border-sm"},Te=g({__name:"tiers",setup(pe){const d=w().accountLevels,c=u(!1),i=u({title:"",dailyLimit:0,maxBalanceLimit:0,accountLevel:d.value.length+1,createdAt:null,updatedAt:null,id:void 0}),y=u({title:"",dailyLimit:0,maxBalanceLimit:0,accountLevel:d.value.length+1,createdAt:null,updatedAt:null,id:void 0}),f=u(),x=l=>{i.value=l},L=()=>{i.value=y.value},r=l=>N(l,{symbol:""}),k=()=>{var t;f.value.checkValidity()||p("All fields are required!");const l={...i.value};l.dailyLimit=r(l.dailyLimit).value,l.maxBalanceLimit=r(l.maxBalanceLimit).value,c.value=!0;const s={method:"POST",url:`${q().public.BE_API}/account-levels`,timeout:2e4,data:l,headers:{Authorization:"Bearer "+((t=D().userData.value)==null?void 0:t.token)}};E.request(s).then(m=>{d.value.push(m.data),S("Saved!")}).catch(m=>{console.log(m),p("Error occurred")}).finally(()=>c.value=!1)};return(l,s)=>(a(),n("div",F,[M,e("div",U,[o(d).length<1?(a(),n("div",$,P)):(a(),n("div",z,[(a(!0),n(A,null,B(o(d),t=>(a(),n("div",O,[e("div",{class:V(["card shadow-lg",o(i).id===t.id?"border-2 border-primary border-dashed":""])},[e("div",R,[e("div",G,[I,e("h3",Q,b(t.title),1)]),e("div",H,[e("button",{onClick:m=>x(t),class:"btn btn-primary btn-icon"},W,8,J)])]),e("div",X,[e("div",Y,[Z,e("div",ee,b(r(t.dailyLimit)),1)]),e("div",te,[se,e("div",oe,b(r(t.maxBalanceLimit)),1)])])],2)]))),256))]))]),e("div",ie,[le,e("form",{ref_key:"formElement",ref:f,onSubmit:s[5]||(s[5]=C(t=>k(),["prevent"]))},[e("div",ae,[ne,_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o(i).title=t),type:"text",class:"form-control",required:""},null,512),[[v,o(i).title]])]),e("div",de,[ce,_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o(i).accountLevel=t),type:"number",class:"form-control",required:""},null,512),[[v,o(i).accountLevel]])]),e("div",re,[me,_(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o(i).dailyLimit=t),type:"text",class:"form-control",required:""},null,512),[[v,o(i).dailyLimit]])]),e("div",ue,[_e,_(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o(i).maxBalanceLimit=t),type:"text",class:"form-control",required:""},null,512),[[v,o(i).maxBalanceLimit]])]),e("div",ve,[o(i).id?(a(),n("button",{key:0,onClick:s[4]||(s[4]=t=>L()),type:"reset",class:"btn btn-secondary me-3"}," Clear ")):T("",!0),e("button",{disabled:o(c),class:"btn btn-primary w-100"},[o(c)?(a(),n("span",he)):(a(),n("span",fe,"Submit"))],8,be)])],544)])]))}});export{Te as default};
