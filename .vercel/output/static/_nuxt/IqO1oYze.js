import{u as v,a as w}from"./92L2RCN-.js";import{u as g}from"./DZnjc9Xn.js";import{d as y,c as m,J as k,o as d,l as u,y as t,u as e,P as A,N as T,O as I,V as B,E as c,L as o,R as D}from"./C1v_YKik.js";import{e as P}from"./BsrlggJy.js";import{u as j}from"./CGGBS1J1.js";/* empty css        */import{a as R}from"./CgRmDqS1.js";import{c as $}from"./9OAR_aOO.js";import{h as C}from"./D15uM1gO.js";import"./BiM5rvw0.js";import"./Cpj98o6Y.js";import"./BR2hkClM.js";const E={class:"kd-flex flex-column flex-column-fluid"},S={id:"kt_app_content",class:"app-content flex-column-fluid"},M={id:"kt_app_content_container",class:"app-container container-fluid d-flex flex-column align-items-center justify-content-center min-h-500px pt-10 pt-md-15 pt-lg-5"},N={key:0},V=t("h1",{class:"mb-8"},"Track Transaction Progress",-1),q={class:"mb-5"},z=t("button",{type:"submit",class:"btn btn-primary w-100"}," Submit ",-1),G={key:1,class:"spinner-border spinner-border-lg"},J={key:1,class:"d-flex flex-column align-items-center justify-content-center"},L={class:"fs-2"},O={class:"fs-3x fw-bold mb-5"},U={class:"d-flex justify-content-between mb-5"},F={class:"d-flex flex-column justify-content-center align-items-center"},H=t("div",{class:"text-center w-100"},[t("span",{class:"text-center fw-bold fs-4"},"Processing")],-1),K={class:"d-flex flex-column justify-content-center align-items-center"},Q=t("div",{class:"text-center w-100"},[t("span",{class:"text-center fw-bold fs-4"},"Sent To Bank")],-1),W={class:"d-flex flex-column justify-content-center align-items-center"},X=t("div",{class:"text-center w-100"},[t("span",{class:"text-center fw-bold fs-4"}," Completed ")],-1),Y={class:"card bg-gray-100 mb-4"},Z={class:"card-body pb-4 fw-bold"},tt={class:"card w-100 w-lg-500px"},et={class:"card-body pb-4 fw-bold"},st={class:"table table-borderless"},nt=t("td",{class:"fw-bold text-muted"}," Recipient Name ",-1),ot={class:"fw-bold text-end"},it=t("td",{class:"fw-bold text-muted"},"Bank",-1),at={class:"fw-bold text-end"},ct=t("td",{class:"fw-bold text-muted"}," Account ID ",-1),lt={class:"fw-bold text-end"},rt=t("td",{class:"fw-bold text-muted"}," Transaction ID ",-1),dt={class:"fw-bold text-end"},ut={colspan:"2",class:"text-center"},mt="Transaction",It=y({__name:"transaction",setup(_t){const f=v().public;g({title:`${mt} - ${f.APP}`});const p=w(),l=m();p.query.id&&(l.value=p.query.id);const b=m(!1),_=m(!1),s=m(),x=a=>$(a,{symbol:""}).format(),h=()=>{var n;if(!l.value)return P("Invalid transaction ID");_.value=!0;const a={method:"GET",url:`${f.BE_API}/transactions/find/${l.value}`,timeout:15e3,headers:{Authorization:"Bearer "+((n=j().userData.value)==null?void 0:n.token)}};R.request(a).then(r=>{s.value=r.data,b.value=!0}).catch(r=>{console.log(r)}).finally(()=>{_.value=!1})},i=(a,n)=>a==="completed"?!0:a==="awaiting"&&(n==="processing"||n==="awaiting");return k(()=>{l.value&&h()}),(a,n)=>(d(),u("div",E,[t("div",S,[t("div",M,[e(b)?e(s)?(d(),u("div",J,[t("div",L," To "+c(e(s).beneficiary.name),1),t("div",O," $"+c(x(e(s).amount)),1),t("div",U,[t("div",F,[t("div",{class:o([e(s).status==="processing"?"animate__animated animate__infinite animate__delay-2s animate__pulse":"","mb-3"])},[t("button",{class:o([i(e(s).status,"processing")?"btn-success btn-active-success rounded-circle":"btn-light-primary btn-active-light-primary","btn btn-icon w-40px h-40px"])},[t("i",{class:o([i(e(s).status,"processing")?"ki-solid ki-check":"ki-solid ki-loading","fs-2x fw-bold"])},null,2)],2)],2),H]),t("div",{class:o([i(e(s).status,"awaiting")?"border-success":"border-primary","border-top border-2 w-20px w-md-50px w-lg-100px h-0px mt-5"])},null,2),t("div",K,[t("div",{class:o([e(s).status==="awaiting"?"animate__animated animate__infinite animate__delay-2s animate__pulse":"","mb-3"])},[t("button",{class:o([i(e(s).status,"awaiting")?"btn-success btn-active-success rounded-circle":"btn-light-primary btn-active-light-primary","btn btn-icon w-40px h-40px"])},[t("i",{class:o([i(e(s).status,"awaiting")?"ki-solid ki-check":"ki-solid ki-loading","fs-2x fw-bold"])},null,2)],2)],2),Q]),t("div",{class:o([i(e(s).status,"completed")?"border-success":"border-primary","border-top border-2 w-20px w-md-50px w-lg-100px h-0px mt-5"])},null,2),t("div",W,[t("div",{class:o([e(s).status==="completed"?"animate__animated animate__infinite animate__delay-2s animate__pulse":"","mb-3"])},[t("button",{class:o([i(e(s).status,"completed")?"btn-success btn-active-success rounded-circle":"btn-light-primary btn-active-light-primary","btn btn-icon w-40px h-40px"])},[t("i",{class:o([i(e(s).status,"completed")?"ki-solid ki-check":"ki-solid ki-loading","fs-2x fw-bold"])},null,2)],2)],2),X])]),t("div",Y,[t("div",Z,[t("p",null,c(e(s).notes),1)])]),t("div",tt,[t("div",et,[t("table",st,[t("tbody",null,[t("tr",null,[nt,t("td",ot,c(e(s).beneficiary.name),1)]),t("tr",null,[it,t("td",at,c(e(s).beneficiary.bank),1)]),t("tr",null,[ct,t("td",lt,c(e(s).beneficiary.destinationAccount),1)]),t("tr",null,[rt,t("td",dt,c(e(s).transactionId),1)]),t("tr",null,[t("td",ut,c(e(C)(e(s).createdAt).format("lll")),1)])])])])])])):D("",!0):(d(),u("div",N,[V,e(_)?(d(),u("span",G)):(d(),u("form",{key:0,onSubmit:n[1]||(n[1]=A(r=>h(),["prevent"]))},[t("div",q,[T(t("input",{class:"form-control form-control-lg",type:"text",placeholder:"Enter transaction ID","onUpdate:modelValue":n[0]||(n[0]=r=>B(l)?l.value=r:null)},null,512),[[I,e(l)]])]),z],32))]))])])]))}});export{It as default};
